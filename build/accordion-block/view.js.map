{"version":3,"file":"accordion-block/view.js","mappings":";;;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAE,kBAAkB,EAAE,MAAM;EACpD,MAAMC,mBAAmB,GAAGF,QAAQ,CAACG,gBAAgB,CACpD,oCACD,CAAC;EAEDD,mBAAmB,CAACE,OAAO,CAAIC,kBAAkB,IAAM;IACtD,MAAMC,UAAU,GAAGD,kBAAkB,CAACF,gBAAgB,CACrD,+CACD,CAAC;IACD;IACAG,UAAU,CAACF,OAAO,CAAIG,SAAS,IAAM;MACpC,MAAM;QAAEC,eAAe;QAAEC;MAAiB,CAAC,GAC1CC,cAAc,CAAEH,SAAU,CAAC;MAC5BC,eAAe,CAACP,gBAAgB,CAAE,OAAO,EAAE,MAC1CU,mBAAmB,CAClBH,eAAe,EACfC,gBAAgB,EAChBF,SAAS,EACTD,UACD,CACD,CAAC;IACF,CAAE,CAAC;EACJ,CAAE,CAAC;AACJ,CAAE,CAAC;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASK,mBAAmBA,CAAEH,eAAe,EAAEI,KAAK,EAAEL,SAAS,EAAED,UAAU,EAAG;EAC7EO,eAAe,GACdL,eAAe,CAACM,YAAY,CAAE,eAAgB,CAAC,KAAK,MAAM;EAC3D,IAAK,CAAED,eAAe,EAAG;IACxB;IACAP,UAAU,CAACF,OAAO,CAAIG,SAAS,IAAM;MACpC,MAAM;QAAEC,eAAe;QAAEC;MAAiB,CAAC,GAC1CC,cAAc,CAAEH,SAAU,CAAC;MAC5B,IAAKE,gBAAgB,KAAKG,KAAK,EAAG;QACjCG,gBAAgB,CAAER,SAAS,EAAE,QAAS,CAAC;QACvCC,eAAe,CAACQ,YAAY,CAAE,eAAe,EAAE,OAAQ,CAAC;MACzD;IACD,CAAE,CAAC;EACJ;EACAD,gBAAgB,CAAER,SAAS,EAAE,QAAS,CAAC;EACvCC,eAAe,CAACQ,YAAY,CAAE,eAAe,EAAE,CAAEH,eAAgB,CAAC;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASH,cAAcA,CAAEH,SAAS,EAAG;EACpC,MAAMC,eAAe,GAAGD,SAAS,CAACU,UAAU,CAACA,UAAU;EACvD,MAAMC,UAAU,GAAGV,eAAe,CAACM,YAAY,CAAE,eAAgB,CAAC;EAClE,MAAML,gBAAgB,GAAGT,QAAQ,CAACmB,cAAc,CAAED,UAAW,CAAC;EAC9D,OAAO;IAAEV,eAAe;IAAEC;EAAiB,CAAC;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASM,gBAAgBA,CAAEK,OAAO,EAAEC,IAAI,EAAG;EAC1C,IAAK,QAAQ,KAAKA,IAAI,EAAG;IACxBD,OAAO,CAACE,SAAS,CAACC,MAAM,CAAE,aAAc,CAAC;EAC1C,CAAC,MAAM;IACNH,OAAO,CAACE,SAAS,CAACE,MAAM,CAAE,aAAc,CAAC;EAC1C;AACD,C","sources":["webpack://a11y-day-accordion-block/./src/accordion-block/view.js"],"sourcesContent":["document.addEventListener( 'DOMContentLoaded', () => {\n\tconst accordionContainers = document.querySelectorAll(\n\t\t'.wp-block-a11y-day-accordion-block'\n\t);\n\n\taccordionContainers.forEach( ( accordionContainer ) => {\n\t\tconst accordions = accordionContainer.querySelectorAll(\n\t\t\t':scope > .wp-block-a11y-day-accordion-section'\n\t\t);\n\t\t// Add event listeners to all accordions and toggle them on click\n\t\taccordions.forEach( ( accordion ) => {\n\t\t\tconst { accordionHeader, accordionContent } =\n\t\t\t\taccordionParts( accordion );\n\t\t\taccordionHeader.addEventListener( 'click', () =>\n\t\t\t\ttoggleAccordionItem(\n\t\t\t\t\taccordionHeader,\n\t\t\t\t\taccordionContent,\n\t\t\t\t\taccordion,\n\t\t\t\t\taccordions\n\t\t\t\t)\n\t\t\t);\n\t\t} );\n\t} );\n} );\n\n/**\n * Toggle the accordion item\n * @param {HTMLElement} accordionHeader the button that controls the accordion\n * @param {HTMLElement} panel the panel that is controlled by the accordion\n * @param {HTMLElement} accordion the accordion item\n * @param {NodeList} accordions all the accordions in the accordion block\n */\nfunction toggleAccordionItem( accordionHeader, panel, accordion, accordions ) {\n\tisAccordionOpen =\n\t\taccordionHeader.getAttribute( 'aria-expanded' ) === 'true';\n\tif ( ! isAccordionOpen ) {\n\t\t// Hide every panel but the one we want to show\n\t\taccordions.forEach( ( accordion ) => {\n\t\t\tconst { accordionHeader, accordionContent } =\n\t\t\t\taccordionParts( accordion );\n\t\t\tif ( accordionContent !== panel ) {\n\t\t\t\ttoggleIsSelected( accordion, 'remove' );\n\t\t\t\taccordionHeader.setAttribute( 'aria-expanded', 'false' );\n\t\t\t}\n\t\t} );\n\t}\n\ttoggleIsSelected( accordion, 'toggle' );\n\taccordionHeader.setAttribute( 'aria-expanded', ! isAccordionOpen );\n}\n\n/**\n * Get the header and content elements of an accordion item\n * @param {HTMLElement} accordion An accordion item\n * @returns an object containing the accordion header and content element\n */\nfunction accordionParts( accordion ) {\n\tconst accordionHeader = accordion.firstChild.firstChild;\n\tconst controlsId = accordionHeader.getAttribute( 'aria-controls' );\n\tconst accordionContent = document.getElementById( controlsId );\n\treturn { accordionHeader, accordionContent };\n}\n\n/**\n * Add or remove the is-selected class from an Element\n * @param {HTMLELEMENT} element the element to add or remove the class from\n * @param {string} type accepts \"toggle\" or \"remove\"\n */\nfunction toggleIsSelected( element, type ) {\n\tif ( 'toggle' === type ) {\n\t\telement.classList.toggle( 'is-selected' );\n\t} else {\n\t\telement.classList.remove( 'is-selected' );\n\t}\n}\n"],"names":["document","addEventListener","accordionContainers","querySelectorAll","forEach","accordionContainer","accordions","accordion","accordionHeader","accordionContent","accordionParts","toggleAccordionItem","panel","isAccordionOpen","getAttribute","toggleIsSelected","setAttribute","firstChild","controlsId","getElementById","element","type","classList","toggle","remove"],"sourceRoot":""}